<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalized Learning System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #7659b5 0%, #f1dafb 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #fff;

        }

        .navbar {
            background: white;
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            margin-bottom: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
        }

        .navbar-brand img {
                margin-right: 15px;
                height: 122px;
        }

        .navbar span {
            font-size: 24px;
            font-weight: 600;
            color: black;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            display: flex;
            gap: 30px;
        }

        .quiz-section {
            flex: 2;
        }

        .profile-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .quiz-box {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .quiz-title {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quiz-title img {
            margin-right: 10px;
        }

        .quiz-subtitle {
            font-size: 16px;
            color: #7f8c8d;
        }

        .timer {
            background: #3498db;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .timer.warning {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }

        .timer.timeout {
            background: #c0392b;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .difficulty-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .difficulty-easy {
            background: #e8f6ef;
            color: #27ae60;
        }

        .difficulty-medium {
            background: #fff9e6;
            color: #f39c12;
        }

        .difficulty-hard {
            background: #fdedec;
            color: #e74c3c;
        }

        .question {
            font-size: 22px;
            margin-bottom: 25px;
            color: #2c3e50;
            font-weight: 600;
        }

        .options-container {
            margin-bottom: 30px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #eaeaea;
            border-radius: 10px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: #3498db;
            background: #f8fafd;
        }

        .option.selected {
            border-color: #3498db;
            background: #e1f0fa;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .option-text {
            font-size: 18px;
            color: black;
        }

        .submit-btn {
            background: linear-gradient(135deg, #ba9dda 0%, #dcb3db 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .submit-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .profile-header {
            font-size: 22px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .profile-info {
            margin-bottom: 25px;
        }

        .profile-item {
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
        }

        .profile-label {
            font-weight: 600;
            color: #7f8c8d;
        }

        .profile-value {
            color: #2c3e50;
        }

        .performance-badge {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 10px;
        }

        .performance-high {
            background: #e8f6ef;
            color: #27ae60;
        }

        .performance-low {
            background: #fdedec;
            color: #e74c3c;
        }

        .performance-developing {
            background: #fff9e6;
            color: #f39c12;
        }

        .recommendations {
            margin-top: 30px;
        }

        .recommendations-title {
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .recommendation-item {
            padding: 12px 15px;
            border-left: 4px solid #3498db;
            background: #f8fafd;
            margin-bottom: 10px;
            border-radius: 0 5px 5px 0;
        }

        .recommendation-difficulty {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 10px;
            margin-left: 10px;
        }

        .progress-container {
            margin-top: 30px;
        }

        .progress-bar {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #7f8c8d;
        }

        .hidden {
            display: none;
        }

        .results-section {
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 32px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .results-score {
            font-size: 72px;
            font-weight: 700;
            color: #6a11cb;
            margin: 20px 0;
        }

        .results-message {
            font-size: 18px;
            color: #7f8c8d;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .quiz-title {
                font-size: 24px;
            }

            .question {
                font-size: 20px;
            }
        }
    </style>
</head>

<body>
    <div class="navbar">
        <div class="navbar-brand">
            <img src="Screenshot 2025-11-21 135258.png" alt="Logo" width="150" height="50">
            <span>Personalized Learning</span>
        </div>
    </div>

    <div class="container">
        <div class="quiz-section">
            <div class="quiz-box" id="quiz-box">
                <div class="quiz-header">
                    <div class="quiz-title">
                        <img src="Screenshot 2025-11-21 135258.png" alt="Logo" width="50" height="40">
                        Cognitive Assessment
                    </div>
                    <div class="quiz-subtitle">AI-Powered Learning Quiz</div>
                </div>

                <div class="timer" id="timer">Time Remaining: 30s</div>

                <div class="difficulty-badge" id="difficulty-badge">Easy</div>

                <div class="question" id="question">
                    What is 2 + 3?
                </div>

                <div class="options-container" id="options-container">
                    <div class="option" onclick="selectAnswer(this, 'A')">
                        <div class="option-text">A) 4</div>
                    </div>
                    <div class="option" onclick="selectAnswer(this, 'B')">
                        <div class="option-text">B) 5</div>
                    </div>
                    <div class="option" onclick="selectAnswer(this, 'C')">
                        <div class="option-text">C) 6</div>
                    </div>
                    <div class="option" onclick="selectAnswer(this, 'D')">
                        <div class="option-text">D) 7</div>
                    </div>
                </div>

                <button class="submit-btn" onclick="submitAnswer()" id="submit-btn">Submit Answer</button>
            </div>

            <div class="results-section hidden" id="results-section">
                <div class="results-title">Quiz Complete!</div>
                <div class="results-score" id="results-score">0/5</div>
                <div class="results-message" id="results-message">
                    Your cognitive profile is being analyzed...
                </div>
                <button class="restart-btn" onclick="restartQuiz()">Take Another Quiz</button>
            </div>
        </div>

        <div class="profile-section">
            <div class="profile-header">Student Profile</div>

            <div class="profile-info">
                <div class="profile-item">
                    <span class="profile-label">Student ID:</span>
                    <span class="profile-value" id="student-id">#4217</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Accuracy:</span>
                    <span class="profile-value" id="accuracy">50.0%</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Avg Response Time:</span>
                    <span class="profile-value" id="response-time">45.2s</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Hint Usage:</span>
                    <span class="profile-value" id="hint-usage">50.0%</span>
                </div>
                <div class="profile-item">
                    <span class="profile-label">Performance Level:</span>
                    <span class="profile-value">
                        <span class="performance-badge performance-developing" id="performance-level">DEVELOPING</span>
                    </span>
                </div>
            </div>

            <div class="progress-container">
                <div class="profile-item">
                    <span class="profile-label">Learning Progress:</span>
                    <span class="profile-value" id="progress-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-label">
                    <span>Beginner</span>
                    <span>Expert</span>
                </div>
            </div>

            <div class="recommendations">
                <div class="recommendations-title">Recommended Problems</div>
                <div id="recommendations-list">
                    <div class="recommendation-item">
                        Problem 173298 <span class="recommendation-difficulty difficulty-easy">Easy</span>
                    </div>
                    <div class="recommendation-item">
                        Problem 162139 <span class="recommendation-difficulty difficulty-easy">Easy</span>
                    </div>
                    <div class="recommendation-item">
                        Problem 139999 <span class="recommendation-difficulty difficulty-easy">Easy</span>
                    </div>
                    <div class="recommendation-item">
                        Problem 140115 <span class="recommendation-difficulty difficulty-easy">Easy</span>
                    </div>
                    <div class="recommendation-item">
                        Problem 93229 <span class="recommendation-difficulty difficulty-easy">Easy</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz state variables
        let startTime = Date.now();
        let selectedOption = null;
        let timeLimit = 30;
        let timerInterval;
        let isTimeUp = false;
        let currentQuestionIndex = 0;
        let score = 0;
        let responseTimes = [];
        let hintUsage = 0;

        // Student profile data
        let studentProfile = {
            id: 4217,
            accuracy: 50.0,
            avgResponseTime: 45.2,
            hintUsage: 50.0,
            performanceLevel: "DEVELOPING",
            performanceScore: 48.28
        };

        // Quiz questions array
        const questions = [
            {
                question: "What is 2 + 3?",
                options: ["A) 4", "B) 5", "C) 6", "D) 7"],
                correct: "B",
                difficulty: "easy"
            },
            {
                question: "What is 10 - 4?",
                options: ["A) 5", "B) 6", "C) 7", "D) 8"],
                correct: "B",
                difficulty: "easy"
            },
            {
                question: "What is 3 ร 4?",
                options: ["A) 10", "B) 11", "C) 12", "D) 13"],
                correct: "C",
                difficulty: "medium"
            },
            {
                question: "What is 20 รท 5?",
                options: ["A) 3", "B) 4", "C) 5", "D) 6"],
                correct: "B",
                difficulty: "medium"
            },
            {
                question: "What is 15 + 5?",
                options: ["A) 18", "B) 19", "C) 20", "D) 21"],
                correct: "C",
                difficulty: "hard"
            }
        ];

        // Initialize the quiz
        function initQuiz() {
            loadQuestion();
            updateProfileDisplay();
        }

        // Load a question
        function loadQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            document.getElementById('question').textContent = currentQuestion.question;

            // Update difficulty badge
            const difficultyBadge = document.getElementById('difficulty-badge');
            difficultyBadge.textContent = currentQuestion.difficulty.charAt(0).toUpperCase() + currentQuestion.difficulty.slice(1);
            difficultyBadge.className = 'difficulty-badge difficulty-' + currentQuestion.difficulty;

            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.querySelector('.option-text').textContent = currentQuestion.options[index];
                option.classList.remove('selected', 'disabled');
                option.onclick = () => selectAnswer(option, String.fromCharCode(65 + index));
            });

            // Reset timer
            startTime = Date.now();
            selectedOption = null;
            isTimeUp = false;
            document.getElementById('submit-btn').disabled = false;

            const timerElement = document.getElementById('timer');
            timerElement.classList.remove('warning', 'timeout');
            timerElement.textContent = `Time Remaining: ${timeLimit}s`;

            // Start timer
            clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
        }

        // Update timer
        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const remaining = timeLimit - elapsed;

            if (remaining <= 0) {
                // Time is up!
                clearInterval(timerInterval);
                timeUp();
                return;
            }

            // Update timer display
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `Time Remaining: ${remaining}s`;

            // Change color when less than 10 seconds
            if (remaining <= 10) {
                timerElement.classList.add('warning');
            }
        }

        // Handle time up
        function timeUp() {
            isTimeUp = true;
            const timerElement = document.getElementById('timer');
            timerElement.textContent = 'Time Up!';
            timerElement.classList.add('timeout');

            // Disable all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.add('disabled');
                opt.onclick = null;
            });

            // Disable submit button
            document.getElementById('submit-btn').disabled = true;

            // Record response time
            responseTimes.push(timeLimit);

            // Show time up message
            setTimeout(() => {
                alert('Time Up!\nYou got 0 marks for this question\nCognitive profile: Response time too slow\nRecommending speed improvement exercises');
                nextQuestion();
            }, 500);
        }

        // Select an answer
        function selectAnswer(element, answer) {
            if (isTimeUp) return;

            // Remove previous selection
            document.querySelectorAll('.option').forEach(opt =>
                opt.classList.remove('selected'));

            // Select current option
            element.classList.add('selected');
            selectedOption = answer;
        }

        // Submit answer
        function submitAnswer() {
            if (isTimeUp) return;

            if (!selectedOption) {
                alert('Please select an answer!');
                return;
            }

            const time = Math.floor((Date.now() - startTime) / 1000);
            responseTimes.push(time);

            const currentQuestion = questions[currentQuestionIndex];
            const isCorrect = selectedOption === currentQuestion.correct;

            if (isCorrect) {
                score++;
                alert(`Correct! Time: ${time}s\nCognitive profile updated: +5 points\nGood response time!`);
            } else {
                alert(`Wrong! Correct answer is ${currentQuestion.correct}. Time: ${time}s\nCognitive profile: Needs improvement\nDifficulty adjusted.`);
            }

            // Disable further interactions for this question
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.add('disabled');
                opt.onclick = null;
            });
            document.getElementById('submit-btn').disabled = true;

            // Move to next question after a delay
            setTimeout(nextQuestion, 1000);
        }

        // Move to next question or show results
        function nextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                // Load next question
                loadQuestion();
            } else {
                // Quiz completed
                clearInterval(timerInterval);
                showResults();
            }
        }

        // Show quiz results
        function showResults() {
            // Hide quiz box, show results
            document.getElementById('quiz-box').classList.add('hidden');
            document.getElementById('results-section').classList.remove('hidden');

            // Calculate results
            const accuracy = (score / questions.length) * 100;
            const avgResponseTime = responseTimes.reduce((a, b) => a + b, 0) / responseTimes.length;

            // Update results display
            document.getElementById('results-score').textContent = `${score}/${questions.length}`;

            // Update profile based on results
            updateStudentProfile(accuracy, avgResponseTime);

            // Set results message based on performance
            let message = "";
            if (accuracy >= 80) {
                message = "Excellent performance! Your cognitive profile shows strong understanding. We'll recommend more challenging problems.";
            } else if (accuracy >= 60) {
                message = "Good performance! Your cognitive profile is developing well. We'll recommend problems to strengthen your foundation.";
            } else {
                message = "Your cognitive profile indicates areas for improvement. We'll recommend foundational problems to build your skills.";
            }

            document.getElementById('results-message').textContent = message;
        }

        // Update student profile based on quiz results
        function updateStudentProfile(accuracy, avgResponseTime) {
            // Update profile data (in a real app, this would come from the model)
            studentProfile.accuracy = accuracy;
            studentProfile.avgResponseTime = avgResponseTime;

            // Update performance level based on accuracy
            if (accuracy >= 80) {
                studentProfile.performanceLevel = "HIGH";
                studentProfile.performanceScore = 85.0;
            } else if (accuracy >= 60) {
                studentProfile.performanceLevel = "DEVELOPING";
                studentProfile.performanceScore = 65.0;
            } else {
                studentProfile.performanceLevel = "LOW";
                studentProfile.performanceScore = 35.0;
            }

            // Update display
            updateProfileDisplay();

            // Update progress bar
            updateProgressBar();
        }

        // Update profile display
        function updateProfileDisplay() {
            document.getElementById('student-id').textContent = `#${studentProfile.id}`;
            document.getElementById('accuracy').textContent = `${studentProfile.accuracy.toFixed(1)}%`;
            document.getElementById('response-time').textContent = `${studentProfile.avgResponseTime.toFixed(1)}s`;
            document.getElementById('hint-usage').textContent = `${studentProfile.hintUsage.toFixed(1)}%`;

            const performanceElement = document.getElementById('performance-level');
            performanceElement.textContent = studentProfile.performanceLevel;
            performanceElement.className = 'performance-badge ';

            if (studentProfile.performanceLevel === "HIGH") {
                performanceElement.classList.add('performance-high');
            } else if (studentProfile.performanceLevel === "LOW") {
                performanceElement.classList.add('performance-low');
            } else {
                performanceElement.classList.add('performance-developing');
            }
        }

        // Update progress bar
        function updateProgressBar() {
            const progressPercent = studentProfile.performanceScore;
            document.getElementById('progress-percent').textContent = `${progressPercent.toFixed(1)}%`;
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
        }

        // Restart quiz
        function restartQuiz() {
            // Reset quiz state
            currentQuestionIndex = 0;
            score = 0;
            responseTimes = [];

            // Show quiz, hide results
            document.getElementById('quiz-box').classList.remove('hidden');
            document.getElementById('results-section').classList.add('hidden');

            // Start new quiz
            initQuiz();
        }

        // Initialize the quiz when page loads
        window.onload = function () {
            initQuiz();
        };
    </script>
</body>

</html>